;define('{{definedName}}',function(require, exports, module){
    {{#if templatePath}}
	var template = require("{{templatePath}}");
	if(template !== true){
		$('body').append(template);
	}
	{{/if}}

    var {{appVarName}} = {
        {{#if model}}
        Model: {
            defaults: function () {
                return {};
            },
            initialize: function (attributes, options) {},
            parseData: function (data) {}
        },
        {{/if}}
        View: {
            initialize: function () {
                this.templateScriptNames = {{templateScriptNamesJsonStr}};
                EB_Common.Backbone.View.prototype.initialize.apply(this,arguments);
                //EB_Common.EventProxy.on("eventName", callback, this);
                this.render();
            },
            render: function () {
                var view = this;
                {{#each templateDomIds}}
                {{#if @first}}
                this.$el.html(this.template.{{originalId}}(this.getIdSuffixModelJSON()));
                {{/if}}
                {{/each}}
                this.buildDialog();
            },
            buildDialog: function(){
                var view = this;
                this.$el.dialog({
                    autoOpen: false,
                    width: 600,
                    height: "auto",
                    modal: true,
                    resizable: false,
                    title: this.options.title,
                    open: function () {
                        //reset the position of dialog.
                        //view.$el.dialog("option", "position", { my: 'center', at: 'center', of: window, collision: 'fit'});
                    },
                    buttons: {
                        Ok: {
                            click: function () {
                                $(this).dialog("destroy");
                            },
                            'class': 'orange',
                            // 'disabled' : "disabled",
                            text: i18n['global.dialog.button.ok'],
                            id: "okButton" + view.cid //add the id for ok button to make the easy use
                        },
                        Cancel: {
                            click: function () {
                                $(this).dialog("close");
                            },
                            'class': 'gray',
                            text: i18n['global.dialog.button.cancel'],
                            id: "cancelButton" + view.cid //add the id for ok button to make the easy use
                        }
                    }
                });
            },
            events: function () {
                var events = {
                };
                return this.dealEvents(events, this.cid);
            },
            getJsonData: function () {
                var modelData = this.model.toJSON();
            }

        },
        getInstance: function (container, model, parentApp, options) {
            options = $.extend(true, {}, options || {});
            var View = EB_Common.Backbone.View.extend(this.View);
            model = model || new Backbone.Model();
            return new View($.extend({ parentApp: parentApp, el: container, model: model },options||{}));
        }
    };

    return {{appVarName}};
});